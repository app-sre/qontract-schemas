---
"$schema": /metaschema-1.json
version: '1.0'
type: object

additionalProperties: false
properties:
  "$schema":
    type: string
    enum:
    - /app-interface/graphql-schemas-1.yml
  
  confs:
    type: array
    items:
      "$ref": "#/$defs/conf"

"$defs":
  conf:
    type: object
    properties:
      name: 
        type: string
      fields:
        type: array
        items:
          "$ref": "#/$defs/field"
      interface:
        type: string
      isInterface:
        type: boolean
      interfaceResolve:
        type: object
        properties:
          strategy:
            type: string
            enum:
            - "fieldMap"
          field:
            type: string
          fieldMap:
            type: object
            properties:
              "/": {}
  field:
    type: object
    properties:
      name:
        type: string
      type:
        type: string
      isInterface:
        type: boolean
      isUnique:
        type: boolean
      isRequired:
        type: boolean
      isSearchable:
        type: boolean
      isList:
        type: boolean
      datafileScheama:
        type: string
      synthetic:
        type: object
        properties:
          schema:
            type: string
          subAttr:
            type: string
      isResource:
        type: boolean
      

