---
"$schema": /metaschema-1.json
version: "1.0"
type: object

additionalProperties: false
properties:
  "$schema":
    type: string
    enum:
    - /app-sre/app-quay-repos-1.yml
  labels:
    "$ref": "/common-1.json#/definitions/labels"
  org:
    "$ref": "/common-1.json#/definitions/crossref"
    "$schemaRef": "/dependencies/quay-org-1.yml"
  teams:
    type: array
    items:
      type: object
      additionalProperties: false
      properties:
        permissions:
          type: array
          items:
            "$ref": "/common-1.json#/definitions/crossref"
            "$schemaRef": "/access/permission-1.yml"
        role:
          type: string
          enum:
          - read
      required:
      - permissions
      - role
  notifications:
    type: array
    items:
      type: object
      additionalProperties: false
      properties:
        event:
          type: string
          enum:
          - vulnerability_found
        severity:
          type: string
          enum:
          - Defcon 1
          - Critical
          - High
          - Medium
          - Low
          - Negligible
          - Unknown
        method:
          type: string
          enum:
          - email
        escalationPolicy:
          "$ref": "/common-1.json#/definitions/crossref"
          "$schemaRef": "/app-sre/escalation-policy-1.yml"
        verificationMethod:
          type: object
          additionalProperties: false
          properties:
            jiraBoard:
              "$ref": "/common-1.json#/definitions/crossref"
              "$schemaRef": "/dependencies/jira-board-1.yml"
      required:
      - event
      - method
      - escalationPolicy
  items:
    type: array
    items:
      type: object
      additionalProperties: false
      properties:
        name:
          type: string
        description:
          type: string
        public:
          type: boolean
        mirror:
          "$schemaRef": "/dependencies/container-image-mirror-1.yml"
      required:
      - name
      - description
      - public
required:
- org
- items
